Facebook.checkSigned=METHOD({run:function(e){"use strict";var o=function(o){Facebook.signIn.isSigned=!0,void 0!==e.signed&&e.signed(o)},i=function(){Facebook.signIn.isSigned=!1,void 0!==e.unsigned&&e.unsigned()};void 0!==CONFIG.Facebook&&FB.getLoginStatus(function(e){"connected"===e.status?FB.api("/me",function(e){FB.api({method:"fql.query",query:"SELECT uid, name FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me())"},function(i){e.friends=i,o(e)})}):i()})}}),Facebook.init=OBJECT({init:function(){"use strict";void 0!==CONFIG.Facebook&&FB.init({appId:CONFIG.Facebook.appId,channelUrl:"//"+CONFIG.Facebook.domain+"/Facebook/R/channel.html",cookie:!0})}}),Facebook.invite=METHOD({run:function(e){"use strict";var o=e.message,i=e.display;FB.ui({method:"apprequests",message:o,display:i},function(){})}}),Facebook.LikeButton=CLASS({preset:function(){"use strict";return IFRAME},init:function(e,o,i){"use strict";{var n,t=i.href,c=void 0===i.layout?"standard":i.layout,u=void 0===i.action?"like":i.action,s=void 0===i.isShowShareButton?!0:i.isShowShareButton,d=void 0===i.isShowFaces?!0:i.isShowFaces,a=void 0===i.colorscheme?"dark":i.colorscheme,r=i.width;o.getEl()}"standard"===c&&(void 0===r&&(r=450),n=35,d===!0&&(n=80)),"button_count"===c&&(void 0===r&&(r=160),n=20),"box_count"===c&&(void 0===r&&(r=65),n=86),o.setSrc("https://www.facebook.com/plugins/like.php?href="+encodeURIComponent(t)+"&width="+r+"&height="+n+"&colorscheme="+a+"&layout="+c+"&action="+u+"&show_faces="+d+"&share="+s+(void 0===CONFIG.Facebook||void 0===CONFIG.Facebook.appId?"":"&appId="+CONFIG.Facebook.appId)),o.addStyle({width:r,height:n})}}),Facebook.ProfileImg=CLASS({preset:function(){"use strict";return IMG},init:function(e,o,i){"use strict";var n=i.id,t=i.type;o.setSrc("http://graph.facebook.com/"+n+"/picture"+(void 0===t?"":"?type="+t))}}),Facebook.share=METHOD({run:function(e){"use strict";var o=e.href,i=e.description,n=e.display;FB.ui({method:"feed",description:i,display:n,link:o},function(){})}}),Facebook.signIn=METHOD(function(){"use strict";var e;return{run:function(o,i){var n=void 0===i?o:i,t=function(o){e=!0,n.signed(o)},c=function(){e=!1,void 0!==n.unsigned&&n.unsigned()};void 0===i&&(o=void 0),FB.getLoginStatus(function(e){"connected"===e.status?FB.api("/me",function(e){t(e)}):"not_authorized"===e.status?FB.login(function(e){"connected"===e.status?FB.api("/me",function(e){FB.api({method:"fql.query",query:"SELECT uid, name FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me())"},function(o){e.friends=o,t(e)})}):c()},{scope:o}):FB.login(function(e){"connected"===e.status?FB.api("/me",function(e){FB.api({method:"fql.query",query:"SELECT uid, name FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me())"},function(o){e.friends=o,t(e)})}):c()},{scope:o})})}}}),Facebook.signOut=METHOD({run:function(e){"use strict";void 0!==global.FB&&void 0!==FB.getAuthResponse()&&null!==FB.getAuthResponse()&&FB.logout(function(){Facebook.signIn.isSigned=!1,void 0!==e&&e()})}});var fbRoot=document.createElement("div");fbRoot.id="fb-root",document.body.appendChild(fbRoot),function(e){var o,i="facebook-jssdk",n=e.getElementsByTagName("script")[0];e.getElementById(i)||(o=e.createElement("script"),o.id=i,o.async=!0,o.src="http://connect.facebook.net/en_US/all.js",n.parentNode.insertBefore(o,n))}(document);