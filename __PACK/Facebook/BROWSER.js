Facebook.checkSigned=METHOD({run:function(e){"use strict";var o=function(o){Facebook.signIn.isSigned=!0,void 0!==e.signed&&e.signed(o)},n=function(){Facebook.signIn.isSigned=!1,void 0!==e.unsigned&&e.unsigned()};void 0!==CONFIG.Facebook&&FB.getLoginStatus(function(e){"connected"===e.status?FB.api("/me",function(e){FB.api({method:"fql.query",query:"SELECT uid, name FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me())"},function(n){e.friends=n,o(e)})}):n()})}}),Facebook.init=OBJECT({init:function(){"use strict";void 0!==CONFIG.Facebook&&FB.init({appId:CONFIG.Facebook.appId,channelUrl:"//"+CONFIG.Facebook.domain+"/Facebook/R/channel.html",cookie:!0})}}),Facebook.invite=METHOD({run:function(e){"use strict";var o=e.message,n=e.display;FB.ui({method:"apprequests",message:o,display:n},function(){})}}),Facebook.LikeButton=CLASS({preset:function(){"use strict";return IFRAME},init:function(e,o,n){"use strict";{var i,t=n.href,c=void 0===n.layout?"standard":n.layout,u=void 0===n.action?"like":n.action,s=void 0===n.isShowShareButton?!0:n.isShowShareButton,d=void 0===n.isShowFaces?!0:n.isShowFaces,a=void 0===n.colorscheme?"dark":n.colorscheme,r=n.width;o.getEl()}"standard"===c&&(void 0===r&&(r=450),i=35,d===!0&&(i=80)),"button_count"===c&&(void 0===r&&(r=160),i=20),"box_count"===c&&(void 0===r&&(r=65),i=86),o.setSrc("https://www.facebook.com/plugins/like.php?href="+encodeURIComponent(t)+"&width="+r+"&height="+i+"&colorscheme="+a+"&layout="+c+"&action="+u+"&show_faces="+d+"&share="+s+"&appId="+CONFIG.Facebook.appId),o.addStyle({width:r,height:i})}}),Facebook.ProfileImg=CLASS({preset:function(){"use strict";return IMG},init:function(e,o,n){"use strict";var i=n.id,t=n.type;o.setSrc("http://graph.facebook.com/"+i+"/picture"+(void 0===t?"":"?type="+t))}}),Facebook.share=METHOD({run:function(e){"use strict";var o=e.href,n=e.description,i=e.display;FB.ui({method:"feed",description:n,display:i,link:o},function(){})}}),Facebook.signIn=METHOD(function(){"use strict";var e;return{run:function(o,n){var i=void 0===n?o:n,t=function(o){e=!0,i.signed(o)},c=function(){e=!1,void 0!==i.unsigned&&i.unsigned()};void 0===n&&(o=void 0),FB.getLoginStatus(function(e){"connected"===e.status?FB.api("/me",function(e){t(e)}):"not_authorized"===e.status?FB.login(function(e){"connected"===e.status?FB.api("/me",function(e){FB.api({method:"fql.query",query:"SELECT uid, name FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me())"},function(o){e.friends=o,t(e)})}):c()},{scope:o}):FB.login(function(e){"connected"===e.status?FB.api("/me",function(e){FB.api({method:"fql.query",query:"SELECT uid, name FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me())"},function(o){e.friends=o,t(e)})}):c()},{scope:o})})}}}),Facebook.signOut=METHOD({run:function(e){"use strict";void 0!==global.FB&&void 0!==FB.getAuthResponse()&&null!==FB.getAuthResponse()&&FB.logout(function(){Facebook.signIn.isSigned=!1,void 0!==e&&e()})}});var fbRoot=document.createElement("div");fbRoot.id="fb-root",document.body.appendChild(fbRoot),function(e){var o,n="facebook-jssdk",i=e.getElementsByTagName("script")[0];e.getElementById(n)||(o=e.createElement("script"),o.id=n,o.async=!0,o.src="http://connect.facebook.net/en_US/all.js",i.parentNode.insertBefore(o,i))}(document);